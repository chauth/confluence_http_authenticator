
README for Shibboleth Authenticator for Confluence

Documentation and main page at:
http://confluence.atlassian.com/display/CONFEXT/Shibboleth+Authenticator+for+Confluence

Requires Maven 2 to build.

To build, type:
mvn clean install

When committing, please try to include a Jira ticket number when possible in the beginning on the comment. This is most important for reviewing svn log to come up with release notes later (but it can also allow you to see commits associated with a ticket within Jira). Take a look at the wiki page above to see what release notes look like (they are a bit messy, but hopefully you see some ticket numbers and references to what was fixed).

To release a new version:
1) Be sure to add yourself to the list of developers in the pom.xml and to add whomever contributed a patch.
2) Build and test (or have someone test)
3) Tag trunk:
svn copy --username (yourusername) https://svn.atlassian.com/svn/public/contrib/confluence/shibboleth-authenticator/trunk https://svn.atlassian.com/svn/public/contrib/confluence/shibboleth-authenticator/tags/(new version) -m "Tagging (new version)"

example for tagging 1.3.1:
svn copy --username your-atlassian-svn-username-goes-here https://svn.atlassian.com/svn/public/contrib/confluence/shibboleth-authenticator/trunk https://svn.atlassian.com/svn/public/contrib/confluence/shibboleth-authenticator/tags/1.3.1 -m "Tagging 1.3.1"

4) Checkout or update tags dir and go there and edit pom.xml to change version to remove "-SNAPSHOT" from project version:
cd ../tags
svn up
cd (new version)
edit pom.xml
(remove -SNAPSHOT from project version)
svn commit
(commit message should be something like "updating version")

While you're in here, do an svn log and try to determine what changed since the last release that is important enough to include in the release notes. Save this somewhere for reference in later steps.

5) Build and add to releases
(in tags/(new version))
mvn clean install
cp target/(name of jar) ../../releases
cd ../../releases
svn add (name of jar)
svn commit
(commit message should be something like "releasing (version number)")

6) Change the wiki page to list the new version, release info and change the information on current version at top:
http://confluence.atlassian.com/display/CONFEXT/Shibboleth+Authenticator+for+Confluence

7) Add release to https://plugins.atlassian.com/manage/plugin/4863

8) Update version number in pom.xml in trunk to the next snapshot version (just increment the build version, so 1.7-SNAPSHOT becomes 1.7.1-SNAPSHOT or if is already has a third number (build version) then increment it so that 1.7.9-SNAPSHOT becomes 1.7.10-SNAPSHOT)

9) For the Jira project do the following:
* Go to http://developer.atlassian.com/jira/browse/SHBL
* Administer Project
* Manage Versions
* Copy/paste text from release info on page into description and set release date to release date
* Add version
* Browse Project
* Resolve all bugs related to that version setting the target version to the version you released.

